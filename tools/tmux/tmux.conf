# ==========================================
# Core Settings
# ==========================================

# Prefix: Ctrl-q (Ctrl-b is hard to reach)
set -g prefix C-q
unbind C-b

# Mouse: click panes, drag borders, scroll
set -g mouse on

# Scrollback buffer
set -g history-limit 50000

# TrueColor support (Ghostty / iTerm2 / modern terminals)
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Window/pane numbering starts at 1 (matches keyboard layout)
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# ==========================================
# Window Navigation ( [ / ] )
# ==========================================

# Prefix + [ : previous window
# Prefix + ] : next window
bind [ previous-window
bind ] next-window

# ==========================================
# Pane Management
# ==========================================

# Split: | horizontal, - vertical (keeps current path)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Move between panes with arrow keys
bind Left  select-pane -L
bind Right select-pane -R
bind Up    select-pane -U
bind Down  select-pane -D

# ==========================================
# Utility
# ==========================================

# Reload config
bind r source-file ~/.tmux.conf \; display "Config Reloaded!"

# ==========================================
# Status Bar
# ==========================================

set -g status-style bg=default,fg=white
set -g status-left "#[fg=green][#S] "
set -g status-right "#[fg=cyan]%Y-%m-%d %H:%M "

# ==========================================
# Plugin: tmux-resurrect
# ==========================================
# Save:    Prefix + Ctrl-s
# Restore: Prefix + Ctrl-r
run-shell ~/dotfiles/tools/tmux/plugins/tmux-resurrect/resurrect.tmux
